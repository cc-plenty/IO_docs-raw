:table-caption!:
:example-caption!:
:source-highlighter: prettify
:sectids!:
[[io__categoryservice]]
= CategoryService





===== Namespace

`IO\Services`





.Properties
|===
|Type |Name |Description

| xref:stable7@interface::Category.adoc#category_contracts_categoryrepositorycontract[`CategoryRepositoryContract`]
    |categoryRepository
    |
|xref:IO/Services/WebstoreConfigurationService.adoc#[`WebstoreConfigurationService`]
    |webstoreConfig
    |
|xref:IO/Services/SessionStorageService.adoc#[`SessionStorageService`]
    |sessionStorageService
    |
| xref:stable7@interface::Category.adoc#category_models_category[`Category`]
    |currentCategory
    |
|link:http://php.net/array[array^]
    |currentCategoryTree
    |
| 
    |authGuard
    |
| 
    |currentItem
    |
|link:http://php.net/int[int^]
    |webstoreId
    |
| 
    |cache
    |
|===


===== Methods

[source%nowrap, php]
----

public __construct($category):void

----







CategoryService constructor.

.*Parameters*
|===
|Type |Name |Description
| xref:stable7@interface::Category.adoc#category_contracts_categoryrepositorycontract[`CategoryRepositoryContract`]
a|`$category`
|
|===


[source%nowrap, php]
----

public setCurrentCategoryID($catID):void

----







Set the current category by ID.

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$catID`
|The id of the current category
|===


[source%nowrap, php]
----

public setCurrentCategory($cat):void

----







Set the current category by ID.

.*Parameters*
|===
|Type |Name |Description
| xref:stable7@interface::Category.adoc#category_models_category[`Category`]
a|`$cat`
|The current category
|===


[source%nowrap, php]
----

public getCurrentCategory():Plenty\Modules\Category\Models\Category

----




====== *Return type:* xref:stable7@interface::Category.adoc#category_models_category[`Category`]




[source%nowrap, php]
----

public get($catID, $lang = null):Plenty\Modules\Category\Models\Category

----




====== *Return type:* xref:stable7@interface::Category.adoc#category_models_category[`Category`]


Get a category by ID

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$catID`
|The category ID

|link:http://php.net/string[string^]
a|`$lang`
|The language to get the category
|===


[source%nowrap, php]
----

public getForPlentyId():void

----









[source%nowrap, php]
----

public getCurrentCategoryChildren():void

----









[source%nowrap, php]
----

public getURL($category, $lang = null, $):string

----







Return the URL for a given category ID.

.*Parameters*
|===
|Type |Name |Description
| xref:stable7@interface::Category.adoc#category_models_category[`Category`]
a|`$category`
|the category to get the URL for

|link:http://php.net/string[string^]
a|`$lang`
|the language to get the URL for

|link:http://php.net/int[int^]
a|`$`
||null $webstoreId
|===


[source%nowrap, php]
----

public getURLById():void

----









[source%nowrap, php]
----

public isCurrent($category):bool

----







Check whether a category is referenced by the current route

.*Parameters*
|===
|Type |Name |Description
| 
a|`$category`
|The category to check
|===


[source%nowrap, php]
----

public isOpen($category):bool

----







Check whether any child of a category is referenced by the current route

.*Parameters*
|===
|Type |Name |Description
| 
a|`$category`
|The category to check
|===


[source%nowrap, php]
----

public isActive($category = null):bool

----







Check whether a category or any of its children is referenced by the current route

.*Parameters*
|===
|Type |Name |Description
| 
a|`$category`
|The category to check
|===


[source%nowrap, php]
----

public getItems($category = null, $params = [], $page = 1):Plenty\Repositories\Models\PaginatedResult

----




====== *Return type:* xref:stable7@interface::Miscellaneous.adoc#miscellaneous_models_paginatedresult[`PaginatedResult`]




.*Parameters*
|===
|Type |Name |Description
| xref:stable7@interface::Category.adoc#category_models_category[`Category`]
a|`$category`
|

|link:http://php.net/array[array^]
a|`$params`
|

|link:http://php.net/int[int^]
a|`$page`
|
|===


[source%nowrap, php]
----

public getNavigationTree($type = null, $lang = null, $maxLevel = 2, $customerClassId):array

----







Return the sitemap tree as an array

.*Parameters*
|===
|Type |Name |Description
| 
a|`$type`
|Only return categories of given types

|link:http://php.net/string[string^]
a|`$lang`
|The language to get sitemap tree for

|link:http://php.net/int[int^]
a|`$maxLevel`
|The deepest category level to load

|link:http://php.net/int[int^]
a|`$customerClassId`
|The customer class id to get tree
|===


[source%nowrap, php]
----

public getPartialTree():void

----









[source%nowrap, php]
----

public getNavigationList($type = &quot;all&quot;, $lang = null):array

----







Return the sitemap list as an array

.*Parameters*
|===
|Type |Name |Description
| 
a|`$type`
|Only return categories of given type

|link:http://php.net/string[string^]
a|`$lang`
|The language to get sitemap list for
|===


[source%nowrap, php]
----

public getHierarchy($catID, $bottomUp = false, $filterCategories = false):array

----







Returns a list of all parent categories including given category

.*Parameters*
|===
|Type |Name |Description
|link:http://php.net/int[int^]
a|`$catID`
|The category Id to get the parents for or 0 to use current category

|link:http://php.net/bool[bool^]
a|`$bottomUp`
|Set true to order result from bottom (deepest category) to top (= level 1)

|link:http://php.net/bool[bool^]
a|`$filterCategories`
|Filter categories
|===


[source%nowrap, php]
----

public isVisibleForWebstore():void

----









[source%nowrap, php]
----

public setCurrentItem($item):void

----









.*Parameters*
|===
|Type |Name |Description
| 
a|`$item`
|
|===


[source%nowrap, php]
----

public getCurrentItem():void

----









[source%nowrap, php]
----

public isHidden($id):void

----









.*Parameters*
|===
|Type |Name |Description
| 
a|`$id`
|
|===


[source%nowrap, php]
----

public fromMemoryCache():void

----









[source%nowrap, php]
----

public resetMemoryCache($key = null):void

----









.*Parameters*
|===
|Type |Name |Description
| 
a|`$key`
|
|===


